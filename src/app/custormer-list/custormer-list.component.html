<!-- Start Content-->
<div class="container-fluid">

    <!-- start page title -->
    <div class="row">
        <div class="col-12">
            <div class="page-title-box">
                <div class="page-title-right">
                    <ol class="breadcrumb m-0">
                        <li class="breadcrumb-item"><a href="javascript: void(0);">Demo App</a></li>
                        <li class="breadcrumb-item active">Listes des clients</li>
                    </ol>
                </div>
                <h4 class="page-title">Listes des clients </h4>
            </div>
        </div>
    </div>
    <!-- end page title -->

    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-body">
                    <div class="row mb-2">
                        <div class="col-sm-5">
                            <button type="button" class="btn btn-danger" data-bs-toggle="modal"
                                data-bs-target="#add-customer-modal">Ajouter un client</button>
                            <div id="add-customer-modal" class="modal fade" tabindex="-1" role="dialog"
                                aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">

                                        <div class="modal-body">
                                            <div class="text-center mt-2 mb-4">
                                                <a href="index.html" class="text-success">
                                                    <span><img src="assets/images/logo-dark.png" alt=""
                                                            height="18"></span>
                                                </a>
                                            </div>

                                            <form class="ps-3 pe-3" (submit)="onSubmit()">
                                                <!-- Name -->
                                                <div class="mb-3">
                                                    <label for="name" class="form-label">Name</label>
                                                    <input class="form-control" type="text" id="name" name="name"
                                                        required="" placeholder="Michael Zenaty"
                                                        [(ngModel)]="form_client.name">
                                                </div>

                                                <!-- Email -->
                                                <div class="mb-3">
                                                    <label for="email" class="form-label">Email</label>
                                                    <input class="form-control" type="email" id="email" name="email"
                                                        required="" placeholder="john@deo.com"
                                                        [(ngModel)]="form_client.email">
                                                </div>

                                                <!-- Telephone -->
                                                <div class="mb-3">
                                                    <label for="telephone" class="form-label">Telephone</label>
                                                    <input class="form-control" type="tel" id="telephone"
                                                        name="telephone" placeholder="0102030405"
                                                        [(ngModel)]="form_client.telephone">
                                                </div>

                                                <!-- Criteres -->
                                                <div class="mb-3">
                                                    <label class="form-label">Criteres</label>
                                                    <input class="form-control" type="text" id="localisation"
                                                        name="localisation"
                                                        placeholder="Localisation (séparées par des virgules)"
                                                        [(ngModel)]="form_client.criteres.localisation">
                                                    <input class="form-control mt-2" type="text" id="code_postal"
                                                        name="code_postal"
                                                        placeholder="Codes postaux (séparés par des virgules)"
                                                        [(ngModel)]="form_client.criteres.code_postal">
                                                    <input class="form-control mt-2" type="text" id="type_bien"
                                                        name="type_bien"
                                                        placeholder="Types de bien (séparés par des virgules)"
                                                        [(ngModel)]="form_client.criteres.type_bien">
                                                    <input class="form-control mt-2" type="number" id="max_price"
                                                        name="max_price" placeholder="Prix maximum en €"
                                                        [(ngModel)]="form_client.criteres.max_price">
                                                    <input class="form-control mt-2" type="number" id="min_price"
                                                        name="min_price" placeholder="Prix minimum en €"
                                                        [(ngModel)]="form_client.criteres.min_price">
                                                    <input class="form-control mt-2" type="number" id="max_surface"
                                                        name="max_surface" placeholder="Surface maximum en m²"
                                                        [(ngModel)]="form_client.criteres.max_surface">
                                                    <input class="form-control mt-2" type="number" id="min_surface"
                                                        name="min_surface" placeholder="Surface minimum en m²"
                                                        [(ngModel)]="form_client.criteres.min_surface">
                                                </div>

                                                <!-- Active -->
                                                <div class="mb-3">
                                                    <div class="form-check">
                                                        <input type="checkbox" class="form-check-input" id="active"
                                                            name="active" [(ngModel)]="form_client.active">
                                                        <label class="form-check-label" for="active">Actif</label>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <div class="mb-3 text-center">
                                                        <button type="button" class="btn btn-light left"
                                                            data-bs-dismiss="modal">Close</button>
                                                        <button class="btn btn-primary" type="submit">Ajouter le
                                                            client</button>
                                                    </div>
                                                </div>
                                            </form>

                                        </div>
                                    </div><!-- /.modal-content -->
                                </div><!-- /.modal-dialog -->
                            </div><!-- /.modal -->
                        </div>
                        <div class="col-sm-7">
                            <div class="text-sm-end">
                                <button type="button" class="btn btn-success mb-2 me-1"><i
                                        class="mdi mdi-cog"></i></button>
                                <button type="button" class="btn btn-light mb-2 me-1">Import</button>
                                <button type="button" class="btn btn-light mb-2">Export</button>
                            </div>
                        </div><!-- end col-->
                    </div>

                    <div class="table-responsive">
                        <table class="table table-centered table-striped dt-responsive nowrap w-100"
                            id="products-datatable">
                            <thead>
                                <tr>
                                    <th style="width: 20px;">
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="customCheck1">
                                            <label class="form-check-label" for="customCheck1">&nbsp;</label>
                                        </div>
                                    </th>
                                    <th>Nom Prénom</th>
                                    <th>Téléphone</th>
                                    <th>Email</th>
                                    <th>Critères</th>
                                    <th>Nombre de correspondance</th>
                                    <th style="width: 75px;">Actif ?</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let cli of clients">
                                    <td>
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="customCheck2">
                                            <label class="form-check-label" for="customCheck2">&nbsp;</label>
                                        </div>
                                    </td>
                                    <td class="table-user">
                                        <a (click)="navigateTo(cli)" class="text-body fw-semibold">{{cli.name}}</a>
                                    </td>
                                    <td>
                                        {{cli.telephone}}
                                    </td>
                                    <td>
                                        {{cli.email}}
                                    </td>
                                    <td>
                                        <pre>{{ getFilteredCriteria(cli.criteres) }}</pre>
                                    </td>
                                    <td>
                                        {{cli.nb_found}}
                                    </td>

                                    <td>
                                        <span [class.badge-success-lighten]="cli.active"
                                            [class.badge-danger-lighten]="!cli.active">
                                            {{ cli.active ? 'Active' : 'Inactive' }}
                                        </span>
                                    </td>

                                    <td>
                                        <a class="action-icon" (click)="editClient(cli)" data-bs-toggle="modal"
                                            data-bs-target="#edit-customer-modal">
                                            <i class="mdi mdi-square-edit-outline"></i>
                                        </a>

                                        <a class="action-icon" (click)="deleteClient(cli)">
                                            <i class="mdi mdi-delete"></i>
                                        </a>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div> <!-- end card-body-->
            </div> <!-- end card-->
        </div> <!-- end col -->
    </div>
    <!-- end row -->



    <!-- Footer Start -->
    <footer class="footer">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-6">
                    <script>document.write(new Date().getFullYear())</script> © Hyper - Coderthemes.com
                </div>
                <div class="col-md-6">
                    <div class="text-md-end footer-links d-none d-md-block">
                        <a href="javascript: void(0);">About</a>
                        <a href="javascript: void(0);">Support</a>
                        <a href="javascript: void(0);">Contact Us</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- end Footer -->

</div>

<!-- ============================================================== -->
<!-- End Page content -->
<!-- ============================================================== -->


<div id="edit-customer-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-body">
                <div class="text-center mt-2 mb-4">
                    <a href="index.html" class="text-success">
                        <span><img src="assets/images/logo-dark.png" alt="" height="18"></span>
                    </a>
                </div>

                <form class="ps-3 pe-3" (submit)="onSubmit(current_client)">
                    <!-- Name -->
                    <div class="mb-3">
                        <label for="name" class="form-label">Name</label>
                        <input class="form-control" type="text" id="name" name="name" required=""
                            placeholder="{Michael Zenaty}" [(ngModel)]="form_client.name">
                    </div>

                    <!-- Email -->
                    <div class="mb-3">
                        <label for="email" class="form-label">Email</label>
                        <input class="form-control" type="email" id="email" name="email" required=""
                            placeholder="john@deo.com" [(ngModel)]="form_client.email">
                    </div>

                    <!-- Telephone -->
                    <div class="mb-3">
                        <label for="telephone" class="form-label">Telephone</label>
                        <input class="form-control" type="tel" id="telephone" name="telephone" placeholder="0102030405"
                            [(ngModel)]="form_client.telephone">
                    </div>

                    <!-- Criteres -->
                    <div class="mb-3">
                        <label class="form-label">Criteres</label>
                        <input class="form-control" type="text" id="localisation" name="localisation"
                            placeholder="Localisation (séparées par des virgules)"
                            [(ngModel)]="form_client.criteres.localisation">
                        <input class="form-control mt-2" type="text" id="code_postal" name="code_postal"
                            placeholder="Codes postaux (séparés par des virgules)"
                            [(ngModel)]="form_client.criteres.code_postal">
                        <input class="form-control mt-2" type="text" id="type_bien" name="type_bien"
                            placeholder="Types de bien (séparés par des virgules)"
                            [(ngModel)]="form_client.criteres.type_bien">
                        <input class="form-control mt-2" type="number" id="max_price" name="max_price"
                            placeholder="Prix maximum en €" [(ngModel)]="form_client.criteres.max_price">
                        <input class="form-control mt-2" type="number" id="min_price" name="min_price"
                            placeholder="Prix minimum en €" [(ngModel)]="form_client.criteres.min_price">
                        <input class="form-control mt-2" type="number" id="max_surface" name="max_surface"
                            placeholder="Surface maximum en m²" [(ngModel)]="form_client.criteres.max_surface">
                        <input class="form-control mt-2" type="number" id="min_surface" name="min_surface"
                            placeholder="Surface minimum en m²" [(ngModel)]="form_client.criteres.min_surface">
                    </div>

                    <!-- Active -->
                    <div class="mb-3">
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="active" name="active"
                                [(ngModel)]="form_client.active">
                            <label class="form-check-label" for="active">Actif</label>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div class="mb-3 text-center">
                            <button class="btn btn-primary" data-bs-dismiss="modal" type="submit">Modifier le
                                client</button>
                        </div>
                    </div>
                </form>

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->